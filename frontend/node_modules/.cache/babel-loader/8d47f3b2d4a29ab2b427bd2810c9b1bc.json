{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIRI PRASATH.V\\\\Desktop\\\\fullstack-notesapp\\\\frontend\\\\src\\\\components\\\\FullNote.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { MdDelete } from 'react-icons/md';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FullNote = () => {\n  _s();\n\n  const [title, setTitle] = useState();\n  const [content, setContent] = useState();\n  const [isContentEdited, setIsContentEdited] = useState(false);\n  const [createdAt, setCreatedAt] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState();\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const {\n    isLoggedIn\n  } = useContext(AuthContext);\n  const backendBaseUrl = 'http://localhost:5000';\n  useEffect(() => {\n    if (isLoggedIn) getNote();\n  }, [isLoggedIn]); // Functions\n\n  const getNote = () => {\n    const url = `${backendBaseUrl}/notes/${id}`;\n    const options = {\n      withCredentials: true,\n      Credential: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.get(url, options).then(res => {\n      setTitle(res.data.note.title);\n      setContent(res.data.note.content);\n      setCreatedAt(res.data.note.createdAt);\n      setIsLoading(false);\n    }).catch(error => {\n      // redirect to 404\n      if (!error.response.data.success) {\n        console.log(error.response.data);\n        setError(error.response.data.message);\n      }\n\n      setIsLoading(false);\n    });\n  };\n\n  const handleEdit = () => {\n    const url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes/${id}`;\n    const body = {\n      title,\n      content\n    };\n    const options = {\n      withCredentials: true,\n      Credential: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.put(url, body, options).then(res => {\n      if (res.data.success) {\n        history.push('/');\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const handleDelete = () => {\n    const url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes/${id}`;\n    const options = {\n      withCredentials: true,\n      Credential: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.delete(url, options).then(res => {\n      if (res.data.success) {\n        history.push('/');\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen bg-bg-black text-font-main font-Mulish \",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full p-4 flex flex-col md:w-11/12 md:mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"outline-none w-full text-4xl font-bold bg-bg-black text-font-main\",\n          value: title,\n          onChange: e => {\n            setIsContentEdited(true);\n            setTitle(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-font-secondary mt-2\",\n          children: createdAt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \" border-[0.5px] border-font-secondary mt-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"outline-none mt-2 text-lg w-full flex-1 bg-bg-black text-font-main\",\n        defaultValue: content,\n        onChange: e => {\n          setIsContentEdited(true);\n          setContent(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 6\n      }, this), isContentEdited && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-10 right-5\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \" rounded-lg bg-font-main text-bg-black font-bold p-3 \",\n          onClick: handleEdit,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 absolute bottom-10 left-5 rounded-lg sm:w-12 sm:h-12  text-bg-black  bg-font-main\",\n        onClick: handleDelete,\n        children: /*#__PURE__*/_jsxDEV(MdDelete, {\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 3\n  }, this);\n};\n\n_s(FullNote, \"EDoB6ZQgjP+gCJls/IudJXSxE7Q=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = FullNote;\nexport default FullNote;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullNote\");","map":{"version":3,"sources":["C:/Users/GIRI PRASATH.V/Desktop/fullstack-notesapp/frontend/src/components/FullNote.js"],"names":["useState","useEffect","useContext","useParams","useHistory","MdDelete","axios","AuthContext","FullNote","title","setTitle","content","setContent","isContentEdited","setIsContentEdited","createdAt","setCreatedAt","isLoading","setIsLoading","error","setError","history","id","isLoggedIn","backendBaseUrl","getNote","url","options","withCredentials","Credential","headers","get","then","res","data","note","catch","response","success","console","log","message","handleEdit","process","env","REACT_APP_BACKEND_BASE_URL","body","put","push","handleDelete","delete","e","target","value"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { MdDelete } from 'react-icons/md';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst FullNote = () => {\r\n\tconst [title, setTitle] = useState();\r\n\tconst [content, setContent] = useState();\r\n\tconst [isContentEdited, setIsContentEdited] = useState(false);\r\n\tconst [createdAt, setCreatedAt] = useState();\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\tconst [error, setError] = useState();\r\n\r\n\tconst history = useHistory();\r\n\tconst { id } = useParams();\r\n\r\n\tconst { isLoggedIn } = useContext(AuthContext);\r\n\tconst backendBaseUrl = 'http://localhost:5000';\r\n\tuseEffect(() => {\r\n\t\tif (isLoggedIn) getNote();\r\n\t}, [isLoggedIn]);\r\n\t\r\n\t// Functions\r\n\tconst getNote = () => {\r\n\t\tconst url = `${backendBaseUrl}/notes/${id}`;\r\n\t\tconst options = {\r\n\t\t\twithCredentials: true,\r\n\t\t\tCredential: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\taxios\r\n\t\t\t.get(url, options)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTitle(res.data.note.title);\r\n\t\t\t\tsetContent(res.data.note.content);\r\n\t\t\t\tsetCreatedAt(res.data.note.createdAt);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\t// redirect to 404\r\n\t\t\t\tif (!error.response.data.success) {\r\n\t\t\t\t\tconsole.log(error.response.data);\r\n\r\n\t\t\t\t\tsetError(error.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t});\r\n\t};\r\n\tconst handleEdit = () => {\r\n\t\tconst url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes/${id}`;\r\n\t\tconst body = { title, content };\r\n\t\tconst options = {\r\n\t\t\twithCredentials: true,\r\n\t\t\tCredential: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\t\taxios\r\n\t\t\t.put(url, body, options)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\thistory.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleDelete = () => {\r\n\t\tconst url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes/${id}`;\r\n\t\tconst options = {\r\n\t\t\twithCredentials: true,\r\n\t\t\tCredential: 'include',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\t\taxios\r\n\t\t\t.delete(url, options)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\thistory.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"h-screen bg-bg-black text-font-main font-Mulish \">\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<h1>Loading...</h1>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"relative h-full p-4 flex flex-col md:w-11/12 md:mx-auto\">\r\n\t\t\t\t\t{/* TITLE */}\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"outline-none w-full text-4xl font-bold bg-bg-black text-font-main\"\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetIsContentEdited(true);\r\n\t\t\t\t\t\t\t\tsetTitle(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p className=\"text-lg text-font-secondary mt-2\">{createdAt}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr className=\" border-[0.5px] border-font-secondary mt-5\" />\r\n\t\t\t\t\t{/* Content */}\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"outline-none mt-2 text-lg w-full flex-1 bg-bg-black text-font-main\"\r\n\t\t\t\t\t\tdefaultValue={content}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tsetIsContentEdited(true);\r\n\t\t\t\t\t\t\tsetContent(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></textarea>\r\n\r\n\t\t\t\t\t{isContentEdited && (\r\n\t\t\t\t\t\t<div className=\"absolute bottom-10 right-5\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\" rounded-lg bg-font-main text-bg-black font-bold p-3 \"\r\n\t\t\t\t\t\t\t\tonClick={handleEdit}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"p-2 absolute bottom-10 left-5 rounded-lg sm:w-12 sm:h-12  text-bg-black  bg-font-main\"\r\n\t\t\t\t\t\tonClick={handleDelete}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MdDelete size={30} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FullNote;\r\n"]},"metadata":{},"sourceType":"module"}