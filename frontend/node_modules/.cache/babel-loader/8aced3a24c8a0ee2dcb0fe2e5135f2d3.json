{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIRI PRASATH.V\\\\Desktop\\\\fullstack-notesapp\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { TiDocumentAdd } from 'react-icons/ti';\nimport { CgLogOut } from 'react-icons/cg';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport Note from './Note';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = () => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const history = useHistory();\n  const {\n    username,\n    isLoggedIn,\n    setIsLoggedIn\n  } = useContext(AuthContext);\n  const backendBaseUrl = 'http://localhost:5000';\n  useEffect(() => {\n    if (isLoggedIn) getNotes();\n  }, [isLoggedIn]);\n\n  const getNotes = () => {\n    const url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes`;\n    const options = {\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.get(url, options).then(res => {\n      setData(res.data.notes);\n      setIsLoading(false);\n    }).catch(error => {\n      if (error.response && error.response.data && error.response.data.message) {\n        setError(error.response.data.message);\n      }\n\n      setIsLoading(false);\n    });\n  };\n\n  const handleLogout = () => {\n    const url = `${process.env.REACT_APP_BACKEND_BASE_URL}/users/logout`;\n    const options = {\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.get(url, options).then(res => {\n      setIsLoggedIn(false);\n      history.push('/login');\n    }).catch(error => console.log(error));\n  };\n\n  var noteColors = ['bg-red-100', 'bg-blue-100', 'bg-yellow-100', 'bg-green-100', 'bg-purple-100', 'bg-rose-100', 'bg-orange-100'];\n  var noteColorsCopy = [];\n  noteColorsCopy = noteColorsCopy.concat(noteColors);\n\n  const getRandomColor = () => {\n    if (noteColorsCopy.length === 0) {\n      noteColorsCopy = noteColorsCopy.concat(noteColors);\n    }\n\n    const randomIndex = Math.floor(Math.random() * noteColorsCopy.length);\n    const color = noteColorsCopy[randomIndex];\n    console.log(`NoteColors[${randomIndex}] = ${color} (Size: ${noteColorsCopy.length - 1})`);\n    noteColorsCopy.splice(randomIndex, 1);\n    return color;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen bg-bg-black text-font-main font-Mulish\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 flex justify-between items-center text-gray-300\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl  font-Mulish capitalize\",\n          children: [username + \"'s\", \" Notes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-around items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" rounded-full transition ease-in-out duration-150 text-3xl p-2  flex justify-around items-center cursor-pointer transform hover:-translate-y-1\",\n            title: \"Log out\",\n            onClick: handleLogout,\n            children: [/*#__PURE__*/_jsxDEV(CgLogOut, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \" hidden md:block ml-1 text-xl\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" rounded-full transition ease-in-out duration-150 text-3xl p-2 flex justify-around items-center cursor-pointer transform hover:-translate-y-1\",\n            title: \"Add New Note\",\n            onClick: () => history.push('/create'),\n            children: [/*#__PURE__*/_jsxDEV(TiDocumentAdd, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \" hidden md:block ml-1 text-xl\",\n              children: \"Add Note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"LOADING...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col overflow-y-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-4 flex flex-col justify-start items-center flex-wrap sm:block\",\n          children: data.map(note => {\n            const bgColor = getRandomColor();\n            console.log(`Map : ${bgColor}`);\n            return /*#__PURE__*/_jsxDEV(Note, {\n              bgColor: bgColor,\n              note: note\n            }, note._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 16\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Dashboard, \"5HrMWsR5tlygqllouQhjhch/BEE=\", false, function () {\n  return [useHistory];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["C:/Users/GIRI PRASATH.V/Desktop/fullstack-notesapp/frontend/src/components/Dashboard.js"],"names":["useState","useEffect","useContext","TiDocumentAdd","CgLogOut","useHistory","axios","AuthContext","Note","Dashboard","data","setData","isLoading","setIsLoading","error","setError","history","username","isLoggedIn","setIsLoggedIn","backendBaseUrl","getNotes","url","process","env","REACT_APP_BACKEND_BASE_URL","options","withCredentials","headers","get","then","res","notes","catch","response","message","handleLogout","push","console","log","noteColors","noteColorsCopy","concat","getRandomColor","length","randomIndex","Math","floor","random","color","splice","map","note","bgColor","_id"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { TiDocumentAdd } from 'react-icons/ti';\r\nimport { CgLogOut } from 'react-icons/cg';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport Note from './Note';\r\n\r\nconst Dashboard = () => {\r\n\tconst [data, setData] = useState([]);\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\tconst [error, setError] = useState('');\r\n\tconst history = useHistory();\r\n\r\n\tconst { username, isLoggedIn, setIsLoggedIn } = useContext(AuthContext);\r\n\tconst backendBaseUrl = 'http://localhost:5000';\r\n\tuseEffect(() => {\r\n\t\tif (isLoggedIn) getNotes();\r\n\t}, [isLoggedIn]);\r\n\r\n\tconst getNotes = () => {\r\n\t\tconst url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes`;\r\n\t\tconst options = {\r\n\t\t\twithCredentials: true,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\taxios\r\n\t\t\t.get(url, options)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.notes);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tif (error.response && error.response.data && error.response.data.message) {\r\n\t\t\t\t\tsetError(error.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleLogout = () => {\r\n\t\tconst url = `${process.env.REACT_APP_BACKEND_BASE_URL}/users/logout`;\r\n\t\tconst options = {\r\n\t\t\twithCredentials: true,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\taxios\r\n\t\t\t.get(url, options)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIsLoggedIn(false);\r\n\t\t\t\thistory.push('/login');\r\n\t\t\t})\r\n\t\t\t.catch((error) => console.log(error));\r\n\t};\r\n\r\n\tvar noteColors = [\r\n\t\t'bg-red-100',\r\n\t\t'bg-blue-100',\r\n\t\t'bg-yellow-100',\r\n\t\t'bg-green-100',\r\n\t\t'bg-purple-100',\r\n\t\t'bg-rose-100',\r\n\t\t'bg-orange-100',\r\n\t];\r\n\tvar noteColorsCopy = [];\r\n\tnoteColorsCopy = noteColorsCopy.concat(noteColors);\r\n\r\n\tconst getRandomColor = () => {\r\n\t\tif (noteColorsCopy.length === 0) {\r\n\t\t\tnoteColorsCopy = noteColorsCopy.concat(noteColors);\r\n\t\t}\r\n\r\n\t\tconst randomIndex = Math.floor(Math.random() * noteColorsCopy.length);\r\n\t\tconst color = noteColorsCopy[randomIndex];\r\n\t\tconsole.log(\r\n\t\t\t`NoteColors[${randomIndex}] = ${color} (Size: ${\r\n\t\t\t\tnoteColorsCopy.length - 1\r\n\t\t\t})`\r\n\t\t);\r\n\t\tnoteColorsCopy.splice(randomIndex, 1);\r\n\r\n\t\treturn color;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"h-screen bg-bg-black text-font-main font-Mulish\">\r\n\t\t\t<div className=\"flex flex-col h-full\">\r\n\t\t\t\t{/* Title section */}\r\n\t\t\t\t<div className=\"p-4 flex justify-between items-center text-gray-300\">\r\n\t\t\t\t\t<h2 className=\"text-3xl  font-Mulish capitalize\">\r\n\t\t\t\t\t\t{username + \"'s\"} Notes\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<div className=\"flex justify-around items-center\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\" rounded-full transition ease-in-out duration-150 text-3xl p-2  flex justify-around items-center cursor-pointer transform hover:-translate-y-1\"\r\n\t\t\t\t\t\t\ttitle=\"Log out\"\r\n\t\t\t\t\t\t\tonClick={handleLogout}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CgLogOut />\r\n\t\t\t\t\t\t\t<span className=\" hidden md:block ml-1 text-xl\">Logout</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\" rounded-full transition ease-in-out duration-150 text-3xl p-2 flex justify-around items-center cursor-pointer transform hover:-translate-y-1\"\r\n\t\t\t\t\t\t\ttitle=\"Add New Note\"\r\n\t\t\t\t\t\t\tonClick={() => history.push('/create')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TiDocumentAdd />\r\n\t\t\t\t\t\t\t<span className=\" hidden md:block ml-1 text-xl\">Add Note</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Notes Section */}\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<h1>LOADING...</h1>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"flex-1 flex flex-col overflow-y-auto\">\r\n\t\t\t\t\t\t<div className=\"flex-1 p-4 flex flex-col justify-start items-center flex-wrap sm:block\">\r\n\t\t\t\t\t\t\t{data.map((note) => {\r\n\t\t\t\t\t\t\t\tconst bgColor = getRandomColor();\r\n\t\t\t\t\t\t\t\tconsole.log(`Map : ${bgColor}`);\r\n\t\t\t\t\t\t\t\treturn <Note bgColor={bgColor} note={note} key={note._id} />;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}