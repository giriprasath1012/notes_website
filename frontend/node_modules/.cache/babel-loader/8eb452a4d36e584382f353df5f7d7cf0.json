{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIRI PRASATH.V\\\\Desktop\\\\fullstack-notesapp\\\\frontend\\\\src\\\\components\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Create = () => {\n  _s();\n\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [isContentTyped, setIsContentTyped] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const history = useHistory();\n  const {\n    isLoggedIn\n  } = useContext(AuthContext);\n  useEffect(() => {\n    if (isLoggedIn) setIsLoading(false);\n  }, [isLoggedIn]);\n\n  const handleNewNote = () => {\n    if (title.trim() !== '' && content.trim !== '') {\n      const url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes`;\n      const body = {\n        title,\n        content\n      };\n      const options = {\n        withCredentials: true,\n        Credential: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      axios.post(url, body, options).then(res => {\n        if (res.data.success) {\n          history.push('/');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen bg-bg-black text-font-main font-Mulish \",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Checking Credentials\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full p-4 flex flex-col md:w-11/12 md:mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"outline-none w-full text-4xl font-bold bg-bg-black text-font-main\",\n          placeholder: \"Note Title\",\n          value: title,\n          onChange: e => {\n            setIsContentTyped(true);\n            setTitle(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \" border-[0.5px] border-font-secondary mt-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"outline-none mt-2 text-lg w-full flex-1 bg-bg-black text-font-main\",\n        defaultValue: content,\n        placeholder: \"Whats new?\",\n        onChange: e => {\n          setIsContentTyped(true);\n          setContent(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this), isContentTyped && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-10 right-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \" rounded-lg bg-font-main text-bg-black font-bold p-3 \",\n          onClick: handleNewNote,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Create, \"qFrIcrP6PF8b4q54tGEn8G+FUyY=\", false, function () {\n  return [useHistory];\n});\n\n_c = Create;\nexport default Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["C:/Users/GIRI PRASATH.V/Desktop/fullstack-notesapp/frontend/src/components/Create.js"],"names":["useEffect","useState","useContext","useHistory","axios","AuthContext","Create","title","setTitle","content","setContent","isContentTyped","setIsContentTyped","isLoading","setIsLoading","history","isLoggedIn","handleNewNote","trim","url","process","env","REACT_APP_BACKEND_BASE_URL","body","options","withCredentials","Credential","headers","post","then","res","data","success","push","catch","error","console","log","e","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst Create = () => {\r\n\tconst [title, setTitle] = useState('');\r\n\tconst [content, setContent] = useState('');\r\n\tconst [isContentTyped, setIsContentTyped] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\tconst history = useHistory();\r\n\r\n\tconst { isLoggedIn } = useContext(AuthContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isLoggedIn) setIsLoading(false);\r\n\t}, [isLoggedIn]);\r\n\r\n\t\r\n\tconst handleNewNote = () => {\r\n\t\tif (title.trim() !== '' && content.trim !== '') {\r\n\t\t\tconst url = `${process.env.REACT_APP_BACKEND_BASE_URL}/notes`;\r\n\t\t\tconst body = { title, content };\r\n\t\t\tconst options = {\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tCredential: 'include',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\taxios\r\n\t\t\t\t.post(url, body, options)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\thistory.push('/');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\thistory.push('/');\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"h-screen bg-bg-black text-font-main font-Mulish \">\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<h1>Checking Credentials</h1>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"relative h-full p-4 flex flex-col md:w-11/12 md:mx-auto\">\r\n\t\t\t\t\t{/* TITLE */}\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"outline-none w-full text-4xl font-bold bg-bg-black text-font-main\"\r\n\t\t\t\t\t\t\tplaceholder=\"Note Title\"\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetIsContentTyped(true);\r\n\t\t\t\t\t\t\t\tsetTitle(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr className=\" border-[0.5px] border-font-secondary mt-5\" />\r\n\t\t\t\t\t{/* Content */}\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"outline-none mt-2 text-lg w-full flex-1 bg-bg-black text-font-main\"\r\n\t\t\t\t\t\tdefaultValue={content}\r\n\t\t\t\t\t\tplaceholder=\"Whats new?\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tsetIsContentTyped(true);\r\n\t\t\t\t\t\t\tsetContent(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t{isContentTyped && (\r\n\t\t\t\t\t\t<div className=\"absolute bottom-10 right-10\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\" rounded-lg bg-font-main text-bg-black font-bold p-3 \"\r\n\t\t\t\t\t\t\t\tonClick={handleNewNote}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Create;\r\n"]},"metadata":{},"sourceType":"module"}