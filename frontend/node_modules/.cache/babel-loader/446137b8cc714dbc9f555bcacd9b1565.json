{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIRI PRASATH.V\\\\Desktop\\\\fullstack-notesapp\\\\frontend\\\\src\\\\components\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  // State Variables\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [hint, setHint] = useState(''); // Initialize history\n\n  const history = useHistory();\n  const {\n    isLoggedIn,\n    setIsLoggedIn\n  } = useContext(AuthContext); // TODO: CHECK IF USER IS LOGGED IN ALREADY\n\n  useEffect(() => {\n    if (isLoggedIn) history.push('/');\n  }, [isLoggedIn]); // Functions\n\n  const handleSubmit = () => {\n    // console.log(username, email, password);\n    process.env.REACT_APP_BACKEND_BASE_URL = 'http://localhost:5000';\n    const url = `${process.env.REACT_APP_BACKEND_BASE_URL}/users/register`;\n    const body = {\n      username,\n      emailId: email,\n      password\n    };\n    const headers = {\n      'Content-Type': 'application/json'\n    }; // console.log(body);\n    // POST user data to /user/register on backend\n\n    axios.post(url, body, {\n      headers\n    }).then(res => {\n      if (res.data.success) {\n        setHint(res.data.message);\n        history.push('/login');\n      }\n    }).catch(err => {\n      // console.log(err.response.data);\n      if (!err.response.data.success) setHint('User validation failed. Input valid credentials');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen bg-bg-black text-font-main font-Mulish sm:flex justify-center items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 flex flex-col justify-around h-full sm:w-10/12 md:w-7/12 lg:w-5/12 \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold \",\n          children: \"It's our pleasure to have you here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"capitalize text-2xl mt-3 text-gray-300\",\n          children: \"Let's register you!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"w-11/12 text-center mt-3 text-lg text-font-secondary rounded\",\n            children: hint\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"outline-none w-full p-4 my-3 rounded-lg border border-gray-700 bg-bg-black text-lg\",\n            placeholder: \"Username\",\n            autoComplete: \"off\",\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"outline-none w-full p-4 my-3 rounded-lg border border-gray-700 bg-bg-black text-lg\",\n            placeholder: \"Email\",\n            autoComplete: \"off\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"outline-none w-full p-4 my-3 rounded-lg border border-gray-700 bg-bg-black text-lg\",\n            placeholder: \"Password\",\n            autoComplete: \"off\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full p-4 my-3 rounded-lg text-black font-bold text-xl bg-font-main\",\n          onClick: handleSubmit,\n          children: \"SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-400\",\n          children: [\"Have an account already?\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            className: \"underline\",\n            children: \"Login to your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Register, \"XnI3F86i7JSL4iNpWeDMEffU1vs=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/GIRI PRASATH.V/Desktop/fullstack-notesapp/frontend/src/components/Register.js"],"names":["useState","useEffect","useContext","Link","useHistory","axios","AuthContext","Register","username","setUsername","email","setEmail","password","setPassword","hint","setHint","history","isLoggedIn","setIsLoggedIn","push","handleSubmit","process","env","REACT_APP_BACKEND_BASE_URL","url","body","emailId","headers","post","then","res","data","success","message","catch","err","response","e","target","value"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst Register = () => {\r\n\t// State Variables\r\n\tconst [username, setUsername] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [hint, setHint] = useState('');\r\n\r\n\t// Initialize history\r\n\tconst history = useHistory();\r\n\r\n\tconst { isLoggedIn, setIsLoggedIn } = useContext(AuthContext);\r\n\r\n\t// TODO: CHECK IF USER IS LOGGED IN ALREADY\r\n\tuseEffect(() => {\r\n\t\tif (isLoggedIn) history.push('/');\r\n\t}, [isLoggedIn]);\r\n\r\n\t// Functions\r\n\tconst handleSubmit = () => {\r\n\t\t// console.log(username, email, password);\r\n\t\tprocess.env.REACT_APP_BACKEND_BASE_URL='http://localhost:5000';\r\n\t\tconst url = `${process.env.REACT_APP_BACKEND_BASE_URL}/users/register`;\r\n\t\tconst body = { username, emailId: email, password };\r\n\t\tconst headers = { 'Content-Type': 'application/json' };\r\n\t\t// console.log(body);\r\n\r\n\t\t// POST user data to /user/register on backend\r\n\t\taxios\r\n\t\t\t.post(url, body, { headers })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\tsetHint(res.data.message);\r\n\t\t\t\t\thistory.push('/login');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t// console.log(err.response.data);\r\n\t\t\t\tif (!err.response.data.success)\r\n\t\t\t\t\tsetHint('User validation failed. Input valid credentials');\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"h-screen bg-bg-black text-font-main font-Mulish sm:flex justify-center items-center\">\r\n\t\t\t<div className=\"p-4 flex flex-col justify-around h-full sm:w-10/12 md:w-7/12 lg:w-5/12 \">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1 className=\"text-4xl font-bold \">\r\n\t\t\t\t\t\tIt's our pleasure to have you here.\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t<p className=\"capitalize text-2xl mt-3 text-gray-300\">\r\n\t\t\t\t\t\tLet's register you!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<p className=\"w-11/12 text-center mt-3 text-lg text-font-secondary rounded\">\r\n\t\t\t\t\t\t\t{hint}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"outline-none w-full p-4 my-3 rounded-lg border border-gray-700 bg-bg-black text-lg\"\r\n\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tclassName=\"outline-none w-full p-4 my-3 rounded-lg border border-gray-700 bg-bg-black text-lg\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tclassName=\"outline-none w-full p-4 my-3 rounded-lg border border-gray-700 bg-bg-black text-lg\"\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"w-full p-4 my-3 rounded-lg text-black font-bold text-xl bg-font-main\"\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSUBMIT\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p className=\"text-center text-gray-400\">\r\n\t\t\t\t\t\tHave an account already?&nbsp;\r\n\t\t\t\t\t\t<Link to=\"/login\" className=\"underline\">\r\n\t\t\t\t\t\t\tLogin to your account\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}